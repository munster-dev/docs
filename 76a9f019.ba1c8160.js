(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{70:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return p}));var n=a(2),r=a(6),o=(a(0),a(81)),l={id:"router.md",title:"Router",sidebar_label:"Router",slug:"/router"},c={unversionedId:"router.md",id:"router.md",isDocsHomePage:!1,title:"Router",description:"Router is a plugin that enables developers to build a single page application with multiple components that acts as different views of the app.",source:"@site/docs\\router.md",slug:"/router",permalink:"/docs/docs/router",editUrl:"https://github.com/munster-dev/docs/blob/master/docs/router.md",version:"current",sidebar_label:"Router",sidebar:"someSidebar",previous:{title:"Custom Directive",permalink:"/docs/docs/custom-directive"},next:{title:"Store",permalink:"/docs/docs/store"}},i=[{value:"Installation",id:"installation",children:[]},{value:"Register the router module",id:"register-the-router-module",children:[]},{value:"Navigate",id:"navigate",children:[]},{value:"Events",id:"events",children:[]},{value:"Router params",id:"router-params",children:[]},{value:"Creating routes",id:"creating-routes",children:[]},{value:"Dynamic route matching",id:"dynamic-route-matching",children:[]},{value:"Router link directive",id:"router-link-directive",children:[]},{value:"Router guard",id:"router-guard",children:[]},{value:"Lazy loading",id:"lazy-loading",children:[]}],b={rightToc:i};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Router is a plugin that enables developers to build a single page application with multiple components that acts as different views of the app.\nView changes depending on the activated route. Activated routes depends on the url of the browser and the path registered in the route component."),Object(o.b)("h2",{id:"installation"},"Installation"),Object(o.b)("p",null,"We can install the router to our project using npm or yarn."),Object(o.b)("p",null,"Here are the examples on how we can install the package to our project."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"npm install @munster-dev/router\n")),Object(o.b)("p",null,"or"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"yarn add @munster-dev/router\n")),Object(o.b)("h2",{id:"register-the-router-module"},"Register the router module"),Object(o.b)("p",null,"Router must be registered to the module first before we can use it.\nWe can register the individual apis or register the whole router module to the module where we want to use the router."),Object(o.b)("p",null,"Here's an example on how to register the router module:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"import { Module } from '@munster-dev/core';\nimport { RouterModule } from '@munster-dev/router';\n\n@Module({\n    modules: [RouterModule]\n})\nexport class RootModule { }\n")),Object(o.b)("h2",{id:"navigate"},"Navigate"),Object(o.b)("p",null,"Router contains a ",Object(o.b)("inlineCode",{parentName:"p"},"navigate(url, state, title, replaceState)")," that allows us to navigate to different routes."),Object(o.b)("h4",{id:"parameters"},"Parameters"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"url")," - is the url that we want to navigate to. This parameter is required."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"state")," - object, used as the state in history.pushState api. This parameter is not required."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"title")," - string, used as the title in history.pushState api. This parameter is not required."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"replaceState")," - boolean, indicates if the navigate will use history.pushState or history.replaceState"),Object(o.b)("h2",{id:"events"},"Events"),Object(o.b)("p",null,"Router gives us an ability to watch router events."),Object(o.b)("p",null,"Here are the list of available events:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Events"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null})))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"onRouteChange"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"An observable event that triggers when the component path route is changed.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"onAllRouteChange"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"An observable event that triggers when route is changed.")))),Object(o.b)("p",null,"We can access router events using the components props."),Object(o.b)("p",null,"Here's an example on how to watch for an event:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"import { Component } from '@munster-dev/core';\nimport { RouterPropsInterface } from '@munster-dev/router';\n\n@Component({\n    selector: 'app-sample',\n    view: './sample.view'\n})\nexport class SampleComponent {\n\n    props: RouterPropsInterface;\n\n    connectedCallback() {\n        this.props.events.onRouteChange.subscribe(() => {\n            // some codes ...\n        });\n    }\n}\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Router events is only available to components directly registered to the <app-route /",">"," component."))),Object(o.b)("h2",{id:"router-params"},"Router params"),Object(o.b)("p",null,"We can also get the router parameters using ",Object(o.b)("inlineCode",{parentName:"p"},"this.props.params()"),"."),Object(o.b)("p",null,"Here is an example on how to get the router params."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"import { Component } from '@munster-dev/core';\nimport { RouterPropsInterface } from '@munster-dev/router';\n\n@Component({\n    selector: 'app-sample',\n    view: './sample.view'\n})\nexport class SampleComponent {\n\n    props: RouterPropsInterface;\n\n    connectedCallback() {\n        console.log(this.props.params());\n    }\n}\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Router params is only available to components directly registered to the <app-route /",">"," component."))),Object(o.b)("h2",{id:"creating-routes"},"Creating routes"),Object(o.b)("p",null,"A route in MunsterJS is just a component that uses the ",Object(o.b)("inlineCode",{parentName:"p"},"app-route")," selector and has a required property ",Object(o.b)("inlineCode",{parentName:"p"},"path"),"."),Object(o.b)("p",null,"Here is an example on how to make a route."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),'<div>\n    <app-route prop:path="/some/path" prop:component="app-sample" />\n</div>\n')),Object(o.b)("p",null,"In the example above. The ",Object(o.b)("inlineCode",{parentName:"p"},"app-sample")," component will be displayed on the UI if the browser url matches with the path property of the app-route."),Object(o.b)("h4",{id:"route-properties"},"Route properties"),Object(o.b)("p",null,"Here are the available route properties."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Properties"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"type"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"path"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The path that should match in the browser url pathname before the route is activated.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"component"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"class ","|"," string"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The component that will be rendered in the ",Object(o.b)("inlineCode",{parentName:"td"},"<app-router-outlet />")," when route path matches the browser url pathname.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"exact"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"If the values is true, then the Component will only activate if route path is an exact match with the browser url pathname but still respect the dynamic route matching.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"middleware"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"array"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"It is another layer of checking if the component can activate or not.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"module"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"function"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Loads a module on demand.")))),Object(o.b)("h2",{id:"dynamic-route-matching"},"Dynamic route matching"),Object(o.b)("p",null,"Dynamic route matching is a way to match a route path segment into its matching browser url pathname segment.\nA dynamic segment is denoted by a colon ",Object(o.b)("inlineCode",{parentName:"p"},":")," followed by the segment name. ex. ",Object(o.b)("inlineCode",{parentName:"p"},"/:userId"),".\nThe value of the dynamic segments is accessible in it's component only using ",Object(o.b)("inlineCode",{parentName:"p"},"this.props.params()"),"."),Object(o.b)("p",null,"Here's a table of dynamic routes and its corresponding values in ",Object(o.b)("inlineCode",{parentName:"p"},"this.props.params()"),":"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"component path"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"browser url pathname"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"this.$router.params()"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/:path"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/100"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{ path: 100 }")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/user/:userId"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/user/123"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{ userId: 123 }")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/post/:postId/:userId"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/post/1/123"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{ postId: 1, userId: 123 }")))),Object(o.b)("h2",{id:"router-link-directive"},"Router link directive"),Object(o.b)("p",null,"Router link directive is an additional feature of the router.\nIt allows the developer to add a way to navigate the user to different routes by clicking the element that contains this directive."),Object(o.b)("p",null,"Here's an example on how to add a router link:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'<div>\n    <a router:link="/route-path">Click Me</a>\n    <button router:link="/route-path">Click Me</button>\n</div>\n')),Object(o.b)("p",null,"The code above will generate an element like the following:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'<div>\n    <a href="/route-path">Click Me</a>\n    <button>Click Me</button>\n</div>\n')),Object(o.b)("p",null,"If the the <a",">"," or <button",">"," element is clicked. We will be redirected to its respective paths."),Object(o.b)("h2",{id:"router-guard"},"Router guard"),Object(o.b)("p",null,"Router guard is another way to check if a component can activate or not.\nIt can also run a block of codes before a route event to happen."),Object(o.b)("p",null,"Here's an example on how to create a guard."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { Guard, BaseGuard } from '@munster-dev/core';\nimport { navigate } from '@munster-dev/router';\nimport { AuthService } from './auth.service';\n\n@Guard()\nexport class AuthGuard extends BaseGuard {\n\n    constructor(private authService: AuthService) {}\n\n    public override canActivate(): Observable<boolean> | boolean {\n\n        if (this.authService.isLoggedIn) {\n            return true;\n        }\n\n        navigate('/guest/route');\n        return false;\n    }\n}\n")),Object(o.b)("p",null,"If ",Object(o.b)("inlineCode",{parentName:"p"},"canActivate")," method returns true, then the component can activate and cannot if otherwise."),Object(o.b)("h2",{id:"lazy-loading"},"Lazy loading"),Object(o.b)("p",null,"To lazy load a module or load a module on demand, we can use the ",Object(o.b)("inlineCode",{parentName:"p"},"module")," property of a route."),Object(o.b)("p",null,"Here's an example on how to use lazy loading in route:"),Object(o.b)("h4",{id:"the-module"},"The module"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"import { Module } from '@munster-dev/core';\nimport { SampleComponent } from './sample.component';\n\n@Module({\n    rootComponent: SampleComponent\n})\nexport class LazyLoadedModule { }\n")),Object(o.b)("h4",{id:"the-route"},"The route"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"<div>\n    <app-route prop:path=\"/sample/path\" prop:module={() => import('./lazy-loaded.module').then(m => m.LazyLoadedModule)} />\n</div>\n")),Object(o.b)("p",null,"The example above will display the component registered as a root component in the ",Object(o.b)("inlineCode",{parentName:"p"},"LazyLoadedModule")," when the route activates."))}p.isMDXComponent=!0},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},u=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,b=i(e,["components","mdxType","originalType","parentName"]),u=p(a),d=n,m=u["".concat(l,".").concat(d)]||u[d]||s[d]||o;return a?r.a.createElement(m,c(c({ref:t},b),{},{components:a})):r.a.createElement(m,c({ref:t},b))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:n,l[1]=c;for(var b=2;b<o;b++)l[b]=a[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);